{% extends 'base.html' %}

{% block title %}Įrašo kūrimas/redagavimas{% endblock %}

{% block content %}
<form method="post" class="mb-4" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="mb-3 mt-3">
    <label for="title" class="form-label">Title:</label>
    <input type="text" class="form-control" name="title" id="title" placeholder="Enter title">
  </div>

  <div class="mb-3">
    <label for="image" class="form-label">Image:</label>
    <input class="form-control" type="file" id="image" name="image" accept="image/*">
  </div>

  <div class="mb-3">
    <label for="id_content" class="form-label">Content:</label>
    <textarea id="id_content" name="content" class="form-control" rows="10" placeholder="Enter content"></textarea>
  </div>

  <button type="submit" class="btn btn-primary">Submit</button>
</form>

<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>

<!-- Initialize TinyMCE for all textarea fields (use '#id_content' if you want a single field) -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    if (window.tinymce) {
      tinymce.init({
        selector: '#id_content', /* or '#id_content' if your field id is id_content */
        menubar: false,
        plugins: 'lists link image table code',
        toolbar: 'undo redo | bold italic underline | alignleft aligncenter alignright | bullist numlist | link image table | code',
        height: 400,
        branding: false
      });
    } else {
      console.error('TinyMCE failed to load. Check CDN/network or include the script locally.');
    }
  });
</script>
{% endblock %}